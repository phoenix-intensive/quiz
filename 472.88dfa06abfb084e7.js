"use strict";(self.webpackChunkquiz=self.webpackChunkquiz||[]).push([[472],{1472:(T,c,t)=>{t.r(c),t.d(c,{UserModule:()=>k});var d=t(6895),m=t(6250),n=t(433),u=t(1571),f=t(8951),h=t(8881);const v=function(o){return{"border-color":o}},p=function(o){return{"border-color":o}},Z=[{path:"login",component:(()=>{class o{constructor(r,e,i){this.authService=r,this.router=e,this._snackBar=i,this.loginForm=new n.cw({email:new n.NI("",[n.kI.required,n.kI.email]),password:new n.NI("",[n.kI.required,n.kI.pattern(/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z]{8,}$/)])})}ngOnInit(){}login(){this.loginForm.valid&&this.loginForm.value.email&&this.loginForm.value.password&&this.authService.login(this.loginForm.value.email,this.loginForm.value.password).subscribe({next:r=>{if(r.error||!r.accessToken||!r.refreshToken||!r.fullName||!r.userId)throw this._snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438"),new Error(r.message?r.message:"Error data login");this.authService.setUserInfo({fullName:r.fullName,userId:r.userId,email:this.loginForm.value.email}),this.authService.setTokens(r.accessToken,r.refreshToken),this.router.navigate(["/choice"])},error:r=>{throw this._snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438"),new Error(r.error.message)}})}}return o.\u0275fac=function(r){return new(r||o)(u.Y36(f.e),u.Y36(m.F0),u.Y36(h.ux))},o.\u0275cmp=u.Xpm({type:o,selectors:[["app-login"]],decls:25,vars:8,consts:[[1,"form",3,"formGroup"],[1,"container"],[1,"form-content"],[1,"form-title","common-title"],[1,"form-details"],[1,"form-group",3,"ngStyle"],["type","text","id","email","required","","formControlName","email",1,"form-input"],["for","email",1,"form-label"],["type","password","id","password","required","","formControlName","password",1,"form-input"],["for","password",1,"form-label"],[1,"form-button"],["id","process",1,"button",3,"disabled","click"],[1,"form-link"],["routerLink","/signup"],[1,"form-image"],["src","assets/images/infoimage.png","alt","Infoimage"]],template:function(r,e){if(1&r&&(u.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"h1",3)(4,"span"),u._uU(5,"\u0412\u0445\u043e\u0434"),u.qZA(),u._uU(6," \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443 "),u.qZA(),u.TgZ(7,"div",4)(8,"div",5),u._UZ(9,"input",6),u.TgZ(10,"label",7),u._uU(11,"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430"),u.qZA()(),u.TgZ(12,"div",5),u._UZ(13,"input",8),u.TgZ(14,"label",9),u._uU(15,"\u041f\u0430\u0440\u043e\u043b\u044c"),u.qZA()()(),u.TgZ(16,"div",10)(17,"button",11),u.NdJ("click",function(){return e.login()}),u._uU(18,"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u0432\u044b\u0431\u043e\u0440\u0443 \u0442\u0435\u0441\u0442\u0430 "),u.qZA()(),u.TgZ(19,"div",12),u._uU(20," \u041d\u0435\u0442 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430? "),u.TgZ(21,"a",13),u._uU(22,"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"),u.qZA()()(),u.TgZ(23,"div",14),u._UZ(24,"img",15),u.qZA()()()),2&r){let i,l;u.Q6J("formGroup",e.loginForm),u.xp6(8),u.Q6J("ngStyle",u.VKq(4,v,null!=(i=e.loginForm.get("email"))&&i.invalid&&(null!=(i=e.loginForm.get("email"))&&i.touched||null!=(i=e.loginForm.get("email"))&&i.dirty)?"red":"")),u.xp6(4),u.Q6J("ngStyle",u.VKq(6,v,null!=(l=e.loginForm.get("password"))&&l.invalid&&(null!=(l=e.loginForm.get("password"))&&l.touched||null!=(l=e.loginForm.get("password"))&&l.dirty)?"red":"")),u.xp6(5),u.Q6J("disabled",e.loginForm.invalid)}},dependencies:[d.PC,m.yS,n.Fj,n.JJ,n.JL,n.Q7,n.sg,n.u]}),o})()},{path:"signup",component:(()=>{class o{constructor(r,e,i){this.authService=r,this.router=e,this._snackBar=i,this.signupForm=new n.cw({name:new n.NI("",[n.kI.required,n.kI.pattern(/^[\u0410-\u042f][\u0430-\u044f]+\s*$/)]),lastName:new n.NI("",[n.kI.required,n.kI.pattern(/^[\u0410-\u042f][\u0430-\u044f]+\s*$/)]),email:new n.NI("",[n.kI.required,n.kI.email]),password:new n.NI("",[n.kI.required,n.kI.pattern(/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z]{8,}$/)]),agree:new n.NI(!1,[n.kI.required])})}ngOnInit(){}signup(){this.signupForm.valid&&this.signupForm.value.name&&this.signupForm.value.lastName&&this.signupForm.value.email&&this.signupForm.value.password&&this.authService.signup(this.signupForm.value.name,this.signupForm.value.lastName,this.signupForm.value.email,this.signupForm.value.password).subscribe({next:r=>{if(r.error||!r.user)throw this._snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438"),new Error(r.message?r.message:"Error data signup");this.signupForm.value.email&&this.signupForm.value.password&&this.authService.login(this.signupForm.value.email,this.signupForm.value.password).subscribe({next:e=>{if(e.error||!e.accessToken||!e.refreshToken||!e.fullName||!e.userId)throw this._snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438"),new Error(e.message?e.message:"Error data login");this.authService.setUserInfo({fullName:e.fullName,userId:e.userId,email:this.signupForm.value.email}),this.authService.setTokens(e.accessToken,e.refreshToken),this.router.navigate(["/choice"])},error:e=>{throw this._snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438"),new Error(e.error.message)}})},error:r=>{throw this._snackBar.open("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438"),new Error(r.error.message)}})}}return o.\u0275fac=function(r){return new(r||o)(u.Y36(f.e),u.Y36(m.F0),u.Y36(h.ux))},o.\u0275cmp=u.Xpm({type:o,selectors:[["app-signup"]],decls:37,vars:14,consts:[[1,"form",3,"formGroup"],[1,"container"],[1,"form-content"],[1,"form-title","common-title"],[1,"form-details"],[1,"form-group",3,"ngStyle"],["type","text","id","name","required","","formControlName","name",1,"form-input"],["for","name",1,"form-label"],["type","text","id","last-name","required","","formControlName","lastName",1,"form-input"],["for","last-name",1,"form-label"],["type","text","id","email","required","","formControlName","email",1,"form-input"],["for","email",1,"form-label"],["type","password","id","password","required","","formControlName","password",1,"form-input"],["for","password",1,"form-label"],[1,"form-agree"],["type","checkbox","id","agree","required","","formControlName","agree"],["for","agree"],["href","#"],[1,"form-button"],["id","process",1,"button",3,"disabled","click"],[1,"form-link"],["routerLink","/login"],[1,"form-image"],["src","assets/images/infoimage.png","alt","Infoimage"]],template:function(r,e){if(1&r&&(u.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"h1",3),u._uU(4," \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f "),u.qZA(),u.TgZ(5,"div",4)(6,"div",5),u._UZ(7,"input",6),u.TgZ(8,"label",7),u._uU(9,"\u0418\u043c\u044f"),u.qZA()(),u.TgZ(10,"div",5),u._UZ(11,"input",8),u.TgZ(12,"label",9),u._uU(13,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"),u.qZA()(),u.TgZ(14,"div",5),u._UZ(15,"input",10),u.TgZ(16,"label",11),u._uU(17,"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430"),u.qZA()(),u.TgZ(18,"div",5),u._UZ(19,"input",12),u.TgZ(20,"label",13),u._uU(21,"\u041f\u0430\u0440\u043e\u043b\u044c"),u.qZA()(),u.TgZ(22,"div",14),u._UZ(23,"input",15),u.TgZ(24,"label",16),u._uU(25," \u042f \u043e\u0437\u043d\u0430\u043a\u043e\u043c\u043b\u0435\u043d "),u.TgZ(26,"a",17),u._uU(27,"\u0441 \u043f\u0440\u0430\u0432\u0438\u043b\u0430\u043c\u0438 \u0441\u0430\u0439\u0442\u0430"),u.qZA()()()(),u.TgZ(28,"div",18)(29,"button",19),u.NdJ("click",function(){return e.signup()}),u._uU(30,"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u0432\u044b\u0431\u043e\u0440\u0443 \u0442\u0435\u0441\u0442\u0430 "),u.qZA()(),u.TgZ(31,"div",20),u._uU(32," \u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b? "),u.TgZ(33,"a",21),u._uU(34,"\u0412\u043e\u0439\u0442\u0438"),u.qZA()()(),u.TgZ(35,"div",22),u._UZ(36,"img",23),u.qZA()()()),2&r){let i,l,a,g;u.Q6J("formGroup",e.signupForm),u.xp6(6),u.Q6J("ngStyle",u.VKq(6,p,null!=(i=e.signupForm.get("name"))&&i.invalid&&(null!=(i=e.signupForm.get("name"))&&i.touched||null!=(i=e.signupForm.get("name"))&&i.dirty)?"red":"")),u.xp6(4),u.Q6J("ngStyle",u.VKq(8,p,null!=(l=e.signupForm.get("lastName"))&&l.invalid&&(null!=(l=e.signupForm.get("lastName"))&&l.touched||null!=(l=e.signupForm.get("lastName"))&&l.dirty)?"red":"")),u.xp6(4),u.Q6J("ngStyle",u.VKq(10,p,null!=(a=e.signupForm.get("email"))&&a.invalid&&(null!=(a=e.signupForm.get("email"))&&a.touched||null!=(a=e.signupForm.get("email"))&&a.dirty)?"red":"")),u.xp6(4),u.Q6J("ngStyle",u.VKq(12,p,null!=(g=e.signupForm.get("password"))&&g.invalid&&(null!=(g=e.signupForm.get("password"))&&g.touched||null!=(g=e.signupForm.get("password"))&&g.dirty)?"red":"")),u.xp6(11),u.Q6J("disabled",e.signupForm.invalid)}},dependencies:[d.PC,m.yS,n.Fj,n.Wl,n.JJ,n.JL,n.Q7,n.Zs,n.sg,n.u]}),o})()}];let w=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=u.oAB({type:o}),o.\u0275inj=u.cJS({imports:[m.Bz.forChild(Z),m.Bz]}),o})(),k=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=u.oAB({type:o}),o.\u0275inj=u.cJS({imports:[d.ez,m.Bz,n.UX,w]}),o})()}}]);